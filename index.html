<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Carte interactive des résultats électoraux de Lyon intra-muros</title>
    <meta name = "viewport" content = "width=device-width, height=device-height, initial-scale=1.0, user-scalable=1">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin="">
    </script>

    <link rel="stylesheet" href="style.css">
    
</head>
<body>
  <h2>Carte interactive des résultats électoraux de Lyon intra-muros </h2>

  <!-- Paragraphe explicatif -->
  <div class="explain">
      <p>
          Cette carte interactive présente les résultats électoraux du <b>premier tour</b> 
          des élections <b>législatives</b> et <b>européennes 2024</b>
          de chaque bureau de vote appartenant à la ville de Lyon intra-muros.
      </p>

      <p>
          Vous pouvez choisir un type d'élection ainsi qu'un parti politique pour afficher 
          une carte de type <i>choroplèthe</i> montrant la proportion de voix obtenues dans chaque bureau
          de vote. Une option permet également d’afficher le <b>taux d’abstention</b>.
      </p>
  </div>

  <!-- Choix des élections -->
  <div id="electionChoice">
      <label for="electionChoice"><b>Choix élections :</b></label>

      <label>
          <input type="radio" name="election" value="legislatives24" checked>
          Législatives 2024
      </label>

      <label>
          <input type="radio" name="election" value="europeennes24">
          Européennes 2024
      </label>
  </div>

  <!-- Menu des nuances politiques -->
  <div>
      <label for="selectNuance"><b>Parti politique :</b></label>
      <select id="selectNuance">
          <option value="">Sélectionner un parti politique</option>
      </select>
  </div>

  <!-- Carte -->
  <div id="map"></div>

  <!-- Sources -->
  <div class="explain">
    <p><b>Information parti politique élection européenne:</b></p>
    <table border="1" style="border-collapse: collapse; width: 100%;">

      <tr> <!--tr : ligne-->
        <th style="text-align: center;"><b>Nom parti politique</b></th> <!--td : colonne-->
        <th style="text-align: center;"><b>Noms listes européennes associées</b></th>
      </tr>
        
      <tr>
        <td>Écologiste</td>
        <td>EUROPE ÉCOLOGIE</td>
      </tr>
    
      <tr>
        <td>EPR Modem</td>
        <td>BESOIN D'EUROPE</td>
      </tr>
    
      <tr>
        <td>Extrême-droite</td>
        <td>
          <ul>
            <li>LA FRANCE REVIENT ! AVEC JORDAN BARDELLA ET MARINE LE PEN</li>
            <li>LA FRANCE FIERE, MENEE PAR MARION MARECHAL ET SOUTENUE PAR ÉRIC ZEMMOUR</li>
          </ul>
        </td>
      </tr>
      
      <tr>
        <td>La France Insoumise</td>
        <td>LA FRANCE INSOUMISE - UNION POPULAIRE</td>
      </tr>

      <tr>
        <td>Les Républicains</td>
        <td>LA DROITE POUR FAIRE ENTENDRE LA VOIX DE LA FRANCE EN EUROPE</td>
      </tr>

      <tr>
        <td>Parti Communiste Français</td>
        <td>GAUCHE UNIE POUR LE MONDE DU TRAVAIL SOUTENUE PAR FABIEN ROUSSEL</td>
      </tr>

      <tr>
        <td>Place Publique/Parti Socialiste</td>
        <td>RÉVEILLER L'EUROPE</td>
      </tr>

    </table>
    
      <p><b>Sources des données :</b></p>
      <p>L'entièreté des sources sont disponible en accès libre sur les sites officiels suivants : </p>
      <ul>
          <li><b>Données géographiques des bureaux de vote :</b> 
            <a href="https://data.grandlyon.com/portail/fr/jeux-de-donnees/secteurs-des-bureaux-de-vote-de-la-metropole-de-lyon/info"> Data Grand Lyon</a></li>
          <li><b>Contours communaux :</b> 
            <a href = https://data.grandlyon.com/portail/fr/jeux-de-donnees/communes-de-la-metropole-de-lyon-et-ses-alentours--a-partir-de-2024/info> 
              Data Grand Lyon - Communes de la Métropole de Lyon et ses alentours (à partir de 2024)</a> et 
            <a href = https://data.grandlyon.com/portail/fr/jeux-de-donnees/communes-de-la-metropole-de-lyon--a-partir-de-2024/info> 
              Data Grand Lyon - Communes de la Métropole de Lyon (à partir de 2024)</a></li>
          <li><b>Résultats électoraux 2024 :</b> 
            <a href = https://www.data.gouv.fr/datasets/elections-legislatives-des-30-juin-et-7-juillet-2024-resultats-definitifs-du-1er-tour> 
              Data gouv - Résultats définitifs élections législatives 2024 (Premier tour)</a>
            <a href = "https://www.data.gouv.fr/datasets/resultats-des-elections-europeennes-du-9-juin-2024/"> 
              Data gouv - Résultats définitifs élections européennes 2024 (Premier tour) </a></li>
      </ul>
  </div>

  <!-- Script -->
  <script type="module" src="./dynamic.mjs"></script>

</body>
</html>